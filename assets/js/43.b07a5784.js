(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{368:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"express常用api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express常用api"}},[s._v("#")]),s._v(" Express常用api")]),s._v(" "),a("ul",[a("li",[s._v("Express: 基于 Node.js 平台，快速、开放、极简的 Web 开发框架 。")])]),s._v(" "),a("h2",{attrs:{id:"创建服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建服务"}},[s._v("#")]),s._v(" 创建服务")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'服务启动成功！ http://localhost:3000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"request-response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-response"}},[s._v("#")]),s._v(" Request & Response")]),s._v(" "),a("h3",{attrs:{id:"request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[s._v("#")]),s._v(" Request")]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("req.query：获取URL的查询参数串")]),s._v(" "),a("li",[s._v("req.body: 获取请求主体（post数据，需要设置中间件函数 json与urlencode）")]),s._v(" "),a("li",[s._v("req.cookies：获取Cookies (需要使用 cookie-parser 中间件)")]),s._v(" "),a("li",[s._v("req.hostname / req.ip：获取主机名和IP地址")]),s._v(" "),a("li",[s._v("req.params：获取路由的parameters")]),s._v(" "),a("li",[s._v("req.path：获取请求路径")]),s._v(" "),a("li",[s._v("req.protocol：获取协议类型")]),s._v(" "),a("li",[s._v("req.get()：获取指定的HTTP请求头")])])]),s._v(" "),a("h3",{attrs:{id:"response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[s._v("#")]),s._v(" Response")]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("res.set()：设置HTTP头，传入object可以一次设置多个头")]),s._v(" "),a("li",[s._v("res.status()：设置HTTP状态码")]),s._v(" "),a("li",[s._v("res.send()：传送HTTP响应")]),s._v(" "),a("li",[s._v("res.redirect()：设置响应的Location HTTP头，并且设置状态码302")]),s._v(" "),a("li",[s._v("res.json()：传送JSON响应")]),s._v(" "),a("li",[s._v("res.cookie(name，value [，option])：设置Cookie")]),s._v(" "),a("li",[s._v("res.clearCookie()：清除Cookie")]),s._v(" "),a("li",[s._v("res.download()：传送指定路径的文件")]),s._v(" "),a("li",[s._v("res.sendFile(path [，options] [，fn])：传送指定路径的文件 -会自动根据文件extension设定Content-Type")]),s._v(" "),a("li",[s._v("res.render(view [, locals] [, callback]) 渲染一个view")])])]),s._v(" "),a("h2",{attrs:{id:"静态资源托管"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源托管"}},[s._v("#")]),s._v(" 静态资源托管")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  public 目录下的图片、CSS 文件、JavaScript 文件对外开放访问了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eg: http://localhost:3000/images/kitten.jpg")]),s._v("\n")])])]),a("h2",{attrs:{id:"脚手架工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚手架工具"}},[s._v("#")]),s._v(" 脚手架工具")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 全局安装")]),s._v("\nnpm install express"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成项目，ejs为模板引擎")]),s._v("\nexpress "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ejs myapp\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);