(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{458:function(t,s,a){"use strict";a.r(s);var r=a(0),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"service-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-worker"}},[t._v("#")]),t._v(" Service Worker")]),t._v(" "),a("h2",{attrs:{id:"特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),a("p",[t._v("** （实际上就是浏览器提供的一组JavaScript API）**")]),t._v(" "),a("h3",{attrs:{id:"_1、拥有独立线程，不会阻塞主线程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、拥有独立线程，不会阻塞主线程"}},[t._v("#")]),t._v(" 1、拥有独立线程，不会阻塞主线程")]),t._v(" "),a("h3",{attrs:{id:"_2、最重要的功能就两个，一个是对网页的离线缓存，另一个是对浏览器请求的拦截"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、最重要的功能就两个，一个是对网页的离线缓存，另一个是对浏览器请求的拦截"}},[t._v("#")]),t._v(" 2、最重要的功能就两个，一个是对"),a("strong",[t._v("网页的离线缓存")]),t._v("，另一个是对"),a("strong",[t._v("浏览器请求的拦截")])]),t._v(" "),a("p",[a("strong",[t._v("【不可以访问DOM】")])]),t._v(" "),a("blockquote",[a("p",[t._v("Service Worker的代码单独放在一个js文件中")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里是要检查用户的浏览器是否支持Service Worker")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serviceWorker'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Service Worker就是navigator的一个属性对象")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加一个网页载入事件的监听器")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//网页载入完成，把service-worker.js文件注册到网页中，实现缓存功能的代码在service-worker.js")]),t._v("\n        navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serviceWorker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/service-worker.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"生成配置文件的webpack插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成配置文件的webpack插件"}},[t._v("#")]),t._v(" 生成配置文件的webpack插件")]),t._v(" "),a("h3",{attrs:{id:"workbox-webpack-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#workbox-webpack-plugin"}},[t._v("#")]),t._v(" "),a("strong",[t._v("workbox")]),t._v("-webpack-plugin")])])}),[],!1,null,null,null);s.default=n.exports}}]);