(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{555:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"遇到的疑问问题与坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到的疑问问题与坑"}},[t._v("#")]),t._v(" 遇到的疑问问题与坑")]),t._v(" "),s("h2",{attrs:{id:"vue-ts-项目配置happypack遇到的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-ts-项目配置happypack遇到的坑"}},[t._v("#")]),t._v(" vue+ts 项目配置happyPack遇到的坑")]),t._v(" "),s("h3",{attrs:{id:"本地项目启动-ts-loader-打包main-ts文件太慢（main-ts依赖太多）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地项目启动-ts-loader-打包main-ts文件太慢（main-ts依赖太多）"}},[t._v("#")]),t._v(" 本地项目启动 ts-loader 打包main.ts文件太慢（main.ts依赖太多）")]),t._v(" "),s("p",[t._v("开启happyPack多进程打包：https://www.jianshu.com/p/b9bf995f3712")]),t._v(" "),s("p",[t._v("配置：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// module/rules")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.tsx?$/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'happypack/loader?id=tsLoader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    exclude"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/activiti/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// plugins")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HappyPack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tsLoader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    loaders"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ts-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            appendTsSuffixTo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.vue$/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            happyPackMode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    threadPool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" happyThreadPool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//允许 HappyPack 输出日志")]),t._v("\n    verbose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"遇到的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到的坑"}},[t._v("#")]),t._v(" 遇到的坑")]),t._v(" "),s("h5",{attrs:{id:"_1、loader-compiler-plugin-is-not-a-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、loader-compiler-plugin-is-not-a-function"}},[t._v("#")]),t._v(" 1、loader._compiler.plugin is not a function")]),t._v(" "),s("p",[t._v("解决方案：https://github.com/xcatliu/typescript-tutorial/issues/20")]),t._v(" "),s("blockquote",[s("p",[t._v("options中必须加上 happyPackMode: true 这个属性")])]),t._v(" "),s("h5",{attrs:{id:"_2、loader的options需要放到-new-happypack中对应的options里面去"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、loader的options需要放到-new-happypack中对应的options里面去"}},[t._v("#")]),t._v(" 2、loader的options需要放到 new HappyPack中对应的options里面去")]),t._v(" "),s("h5",{attrs:{id:"_3、ts-loader的版本问题，需要降低至3-x的版本，但是解决第一个坑后，这个版本问题貌似就不存在了。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、ts-loader的版本问题，需要降低至3-x的版本，但是解决第一个坑后，这个版本问题貌似就不存在了。"}},[t._v("#")]),t._v(" 3、ts-loader的版本问题，需要降低至3.x的版本，但是解决第一个坑后，这个版本问题貌似就不存在了。")]),t._v(" "),s("p",[t._v("最后成功的版本：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"happypack"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.0.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ts-loader"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.3.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);