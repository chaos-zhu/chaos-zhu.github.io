(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{395:function(t,e,l){"use strict";l.r(e);var a=l(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"nginx安装与常用防火墙指令"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装与常用防火墙指令"}},[t._v("#")]),t._v(" Nginx安装与常用防火墙指令")]),t._v(" "),l("blockquote",[l("p",[t._v("环境：Centos7")])]),t._v(" "),l("h2",{attrs:{id:"安装-nginx"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#安装-nginx"}},[t._v("#")]),t._v(" 安装 Nginx")]),t._v(" "),l("h3",{attrs:{id:"_1、首先将系统软件包更新到最新版本"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_1、首先将系统软件包更新到最新版本"}},[t._v("#")]),t._v(" 1、首先将系统软件包更新到最新版本")]),t._v(" "),l("blockquote",[l("ul",[l("li",[t._v("yum -y update")])])]),t._v(" "),l("h3",{attrs:{id:"_2、接下来，使用-yum-包管理器从-epel-存储库安装-nginx"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_2、接下来，使用-yum-包管理器从-epel-存储库安装-nginx"}},[t._v("#")]),t._v(" 2、接下来，使用 yum 包管理器从 EPEL 存储库安装 Nginx")]),t._v(" "),l("blockquote",[l("ul",[l("li",[t._v("yum install -y epel-release")]),t._v(" "),l("li",[t._v("yum install -y nginx")])])]),t._v(" "),l("p",[l("strong",[t._v("ps：epel-是为“红帽系”的操作系统提供额外的软件包，适用于Linux操作系统。”epel-release”的软件包会自动配置yum的软件仓库。")])]),t._v(" "),l("h3",{attrs:{id:"_3、管理-nginx-服务"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_3、管理-nginx-服务"}},[t._v("#")]),t._v(" 3、管理 Nginx 服务")]),t._v(" "),l("blockquote",[l("ul",[l("li",[t._v("systemctl start nginx    // 启动")]),t._v(" "),l("li",[t._v("systemctl enable nginx    // 设置开机自启")]),t._v(" "),l("li",[t._v("systemctl status nginx    // 查看nginx状态")]),t._v(" "),l("li",[t._v("systemctl start firewalld  // 开启防火墙，没有任何提示即开启成功。")])])]),t._v(" "),l("h3",{attrs:{id:"_4、配置-firewalld-以允许-nginx-流量"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置-firewalld-以允许-nginx-流量"}},[t._v("#")]),t._v(" 4、配置 firewalld 以允许 Nginx 流量")]),t._v(" "),l("blockquote",[l("ul",[l("li",[t._v("firewall-cmd --zone=public --permanent --add-service=http    // 开放80")]),t._v(" "),l("li",[t._v("firewall-cmd --zone=public --permanent --add-service=https    // 开放443")]),t._v(" "),l("li",[t._v("firewall-cmd --reload    // 重启防火墙")]),t._v(" "),l("li",[t._v("开放防火墙指定端口：firewall-cmd --zone=public --add-port=80/tcp --permanent")])])]),t._v(" "),l("p",[l("strong",[t._v("ps：默认情况下，$\\color{blue}{CentOS 7 内置防火墙设置不开放 http 端口}$，所以 nginx 暴露的服务可能无法访问。要允许 Nginx 上的流量，使用以下命令更新系统防火墙规则，来允许 HTTP 和 HTTPS 上的入站数据包。")])]),t._v(" "),l("h3",{attrs:{id:"nginx默认核心文件和目录"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#nginx默认核心文件和目录"}},[t._v("#")]),t._v(" Nginx默认核心文件和目录")]),t._v(" "),l("blockquote",[l("ul",[l("li",[t._v("Nginx 目录（包含配置文件的根目录）：/etc/nginxNginx")]),t._v(" "),l("li",[t._v("主配置文件：/etc/nginx/nginx.conf。可以在 /etc/nginx/conf.d 中添加 server （虚拟主机）配置。")]),t._v(" "),l("li",[t._v("默认欢迎页面目录：/usr/share/nginx/html。")])])]),t._v(" "),l("h2",{attrs:{id:"常用防火墙命令"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#常用防火墙命令"}},[t._v("#")]),t._v(" 常用防火墙命令")]),t._v(" "),l("p",[l("code",[t._v("systemctl stop firewalld")]),t._v("  // 关闭")]),t._v(" "),l("p",[l("code",[t._v("systemctl disable firewalld")]),t._v(" // 开机禁用")]),t._v(" "),l("p",[l("code",[t._v("systemctl status firewalld")]),t._v("// 查看防火墙状态")]),t._v(" "),l("p",[l("code",[t._v("yum install firewalld")]),t._v(" //安装")]),t._v(" "),l("p",[l("code",[t._v("systemctl start firewalld")]),t._v(" // 开启")]),t._v(" "),l("p",[l("code",[t._v("systemctl restart firewalld")]),t._v(" // 重启")]),t._v(" "),l("p",[l("code",[t._v("iptables -L -n")]),t._v(" // 查看规则，这个命令是和 "),l("code",[t._v("iptables")]),t._v(" 的相同的")]),t._v(" "),l("p",[l("code",[t._v("firewall-cmd --zone=public --add-port=80/tcp --permanent")]),t._v(" // 开放防火墙指定端口")])])}),[],!1,null,null,null);e.default=n.exports}}]);