(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{409:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"npm-yarn源配置与代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-yarn源配置与代理"}},[s._v("#")]),s._v(" npm&yarn源配置与代理")]),s._v(" "),a("h2",{attrs:{id:"查看npm源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看npm源"}},[s._v("#")]),s._v(" 查看npm源")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" npm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" registry\n")])])]),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/44160914/99230940-e4f60d00-282a-11eb-9be4-f6beb3b4279a.png",alt:"image"}})]),s._v(" "),a("ul",[a("li",[s._v("可以看到默认的就是从npmjs拉取的，服务器设置在国外，慢是正常的。")])]),s._v(" "),a("p",[a("strong",[s._v("临时使用npm源")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm --registry https://registry.npm.taobao.org install express\n")])])]),a("h3",{attrs:{id:"设置npm国内-淘宝-镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置npm国内-淘宝-镜像源"}},[s._v("#")]),s._v(" 设置npm国内(淘宝)镜像源")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" npm config set registry https://registry.npm.taobao.org\n")])])]),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/44160914/99230961-eaebee00-282a-11eb-81c5-defcb3a2a014.png",alt:"image"}})]),s._v(" "),a("h3",{attrs:{id:"npm代理配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm代理配置"}},[s._v("#")]),s._v(" npm代理配置")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配合FQ软件使用")]),s._v("\nnpm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("registry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("npmjs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认值")]),s._v("\nnpm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" proxy "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 取消代理")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// npm i 报错： cb() never called")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 执行：npm cache clean -f // 清除缓存")]),s._v("\n")])])]),a("h2",{attrs:{id:"yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[s._v("#")]),s._v(" yarn")]),s._v(" "),a("h3",{attrs:{id:"查看yarn镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看yarn镜像源"}},[s._v("#")]),s._v(" 查看yarn镜像源")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn config get registry\n")])])]),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/44160914/99231066-1078f780-282b-11eb-8b8f-2de659dc2db0.png",alt:"image"}})]),s._v(" "),a("h2",{attrs:{id:"设置yarn国内-淘宝-镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置yarn国内-淘宝-镜像源"}},[s._v("#")]),s._v(" 设置yarn国内(淘宝)镜像源")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn config set registry https://registry.npm.taobao.org/\n")])])]),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/44160914/99231084-17076f00-282b-11eb-832b-3fc254f8a5d6.png",alt:"image"}})]),s._v(" "),a("ul",[a("li",[s._v("这个源相对npmjs会快一点")])]),s._v(" "),a("h3",{attrs:{id:"yarn代理配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn代理配置"}},[s._v("#")]),s._v(" yarn代理配置")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本地端口10809")]),s._v("\nyarn config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" proxy http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10809")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除代理")]),s._v("\nyarn config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" proxy\n\n")])])]),a("h4",{attrs:{id:"说一下为啥不直接用cnpm-默认国内镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说一下为啥不直接用cnpm-默认国内镜像"}},[s._v("#")]),s._v(" 说一下为啥不直接用cnpm(默认国内镜像)")]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("原因是cnpm install不会根据package-lock.json文件锁定依赖包下载指定版本，而是根据package.json文件。这就有可能会造成本地跑的代码，放到服务器上用cnpm下载依赖再打包就会出现各种意料不到的bug。我就是踩了这个坑，就不怎么想用cnpm了。npm挺好，换个国内的源就好了。")])])]),s._v(" "),a("h4",{attrs:{id:"参考issue：https-github-com-cnpm-cnpm-issues-226"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考issue：https-github-com-cnpm-cnpm-issues-226"}},[s._v("#")]),s._v(" 参考issue："),a("a",{attrs:{href:"https://github.com/cnpm/cnpm/issues/226",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/cnpm/cnpm/issues/226"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);