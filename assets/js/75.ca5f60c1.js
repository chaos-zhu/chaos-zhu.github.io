(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{400:function(t,a,s){"use strict";s.r(a);var n=s(0),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"安装nvm-yarn-pm2-nrm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装nvm-yarn-pm2-nrm"}},[t._v("#")]),t._v(" 安装nvm&yarn&pm2&nrm")]),t._v(" "),s("blockquote",[s("p",[t._v("环境：Centos7")])]),t._v(" "),s("h2",{attrs:{id:"_1、nvm安装node（推荐）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、nvm安装node（推荐）"}},[t._v("#")]),t._v(" 1、nvm安装Node（推荐）")]),t._v(" "),s("h3",{attrs:{id:"github：https-github-com-nvm-sh-nvm-installing-and-updating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github：https-github-com-nvm-sh-nvm-installing-and-updating"}},[t._v("#")]),t._v(" github："),s("a",{attrs:{href:"https://github.com/nvm-sh/nvm#installing-and-updating",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/nvm-sh/nvm#installing-and-updating"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"linux安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[t._v("#")]),t._v(" Linux安装")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash")]),t._v(" "),s("li",[t._v("cd ~/.nvm")]),t._v(" "),s("li",[t._v("source nvm.sh")])])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("切换nvm国内源：export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node")])])]),t._v(" "),s("blockquote",[s("p",[t._v("如果DNS被污染，需配置本机host，"),s("a",{attrs:{href:"https://github.com/hawtim/blog/issues/10",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),s("OutboundLink")],1)])]),t._v(" "),s("p",[s("strong",[t._v("nvm常用命令：")])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("nvm list // 列出已安装")]),t._v(" "),s("li",[t._v("nvm 版本号 // 使用对应版本")]),t._v(" "),s("li",[t._v("nvm uninstall  版本号 // 卸载对应版本")]),t._v(" "),s("li",[t._v("nvm ls-remote  // 列出远程服务器上所有的可用版本（Linux）")]),t._v(" "),s("li",[t._v("nvm ls available  //（window）")])])]),t._v(" "),s("h2",{attrs:{id:"_2、手动安装node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、手动安装node"}},[t._v("#")]),t._v(" 2、手动安装Node")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("yum install -y wget  //先安装wget")]),t._v(" "),s("li",[t._v("cd /usr/local     //一般放在这个文件夹下")]),t._v(" "),s("li",[t._v("wget https://nodejs.org/dist/v10.15.0/node-v10.15.0-linux-x64.tar.xz")]),t._v(" "),s("li",[t._v("快捷解压：tar xzf xxx  //这条命令可以快速解压两层tar.xz")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/14229041-792cd7f88a20ba66.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"获取下载地址参考这里"}})]),t._v(" "),s("h2",{attrs:{id:"配置node环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置node环境变量"}},[t._v("#")]),t._v(" 配置node环境变量")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("vim /etc/profile    //编辑根目录etc下的profile文件")])])]),t._v(" "),s("p",[s("strong",[t._v("进入到vim界面后，按i进入插入模式，在最下方添加：")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" HISTTIMEFORMAT\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v(":/usr/local/node/bin\n")])])]),s("p",[s("strong",[t._v("添加完成之后ESC :eq保存并退出")]),t._v(" "),s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/14229041-046c6ce64bdf02a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"示例"}})]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("source /etc/profile    //重新载入centos环境变量的配置文件\n"),s("strong",[t._v("检验：使用node -v  、 npm -v  、 npx -v看是否能出现版本号")])])])]),t._v(" "),s("h2",{attrs:{id:"_3、安装yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装yarn"}},[t._v("#")]),t._v(" 3、安装yarn")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("curl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo")]),t._v(" "),s("li",[t._v("sudo yum install yarn")])])]),t._v(" "),s("p",[s("strong",[t._v("PS:如果提示没有安装sudo，则：$ yum install sudo")])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("检查：yarn -v    //通过yum安装的不用配置环境变量(ps:yum下没有node.js源)")])])]),t._v(" "),s("p",[s("strong",[t._v("官方说明：")]),s("a",{attrs:{href:"https://yarn.bootcss.com/docs/install/#centos-stable",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://yarn.bootcss.com/docs/install/#centos-stable"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_4、安装pm2守护进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、安装pm2守护进程"}},[t._v("#")]),t._v(" 4、安装pm2守护进程")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("yarn global add pm2     //或：npm i -g pm2  【全局安装】")])])]),t._v(" "),s("p",[s("strong",[t._v("PS:如果安装报错,则安装或升级下openssl")])]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("yum update openssl")]),t._v(" "),s("li",[t._v("yum install openssl\n"),s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/14229041-128da77ac6751ef4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])])]),t._v(" "),s("h3",{attrs:{id:"pm2常用指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2常用指令"}},[t._v("#")]),t._v(" pm2常用指令")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("cd到需要守护的文件夹目录\npm2 start "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//启动进程")]),t._v("\npm2 stop "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//停止进程，例如 pm2 stop app.js 或者 pm2 stop 0")]),t._v("\npm2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除进程")]),t._v("\npm2 restart "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//重启进程")]),t._v("\npm2 list    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查看进程")]),t._v("\npm2 logs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查看进程日志")]),t._v("\n\npm2 startup "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开机自启")]),t._v("\npm2 save "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存配置")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5、安装nrm，替换npm源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、安装nrm，替换npm源"}},[t._v("#")]),t._v(" 5、安装nrm，替换npm源")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("npm i -g nrm")])])]),t._v(" "),s("h3",{attrs:{id:"nrm常用指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nrm常用指令"}},[t._v("#")]),t._v(" nrm常用指令")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("nrm ls // 查看源")]),t._v(" "),s("li",[t._v("nrm use xxx // 切换源")]),t._v(" "),s("li",[t._v("nrm add registry xxx // 添加源")]),t._v(" "),s("li",[t._v("nrm del xxx // 删除源")]),t._v(" "),s("li",[t._v("nrm test npm // 测试源响应速度")])])]),t._v(" "),s("h4",{attrs:{id:"查看npm源：npm-config-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看npm源：npm-config-list"}},[t._v("#")]),t._v(" 查看npm源：npm config list")])])}),[],!1,null,null,null);a.default=r.exports}}]);